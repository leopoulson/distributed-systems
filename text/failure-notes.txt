- Failure Detection

First we need a way to detect failures.

The failure detection process is as follows. Every T rounds since the last successful FC, a node pings the next one
with a `failure_check` message. When a node receives such a message, they respond with a `failure_response` message
to say that they are indeed active. If no such response is received in 2*d time, then the node sees that the next one
has failed.

If they do not get a response in 2D time, several things happen;
* we have to make a new connection to the next one; this is quite hard?
  -> perhaps the nodes send a message to the network, and ask the network to connect them to the next one.
* we broadcast to other nodes that this node is not working.
  -> the network should also be notified.
* we elect a new leader, if necessary.

- On detection of failure

The node should broadcast to every connected node that this node has failed.

Furthermore, the network needs to re-route the bits around


they broadcast that the node has failed.

- Failure Recovery

When a node fails, we need to recover in such a way that the ring structure is maintained.

e.g. when 20 fails, we need to make a connection from 18 to 1. This is fine, as we can just go straight through via their connection.
But when 6 fails, we need a connection from 3 to 7. Less easy, as there is no direct path.

Hence, we have to go /through/ another node. So nodes will now start receiving messages that are not addressed to them.
If a node receives a message not addressed to them;
- Lookup the addressee in the 'reroute' table
- Send it to there.

So we have a 'recover' function which takes a node that is known to fail.
- It finds out which nodes will be affected by this
- Computes the shortest path from a node to another, across the hole
- Puts the fix in the reroute table.

- Redirecting ---

Each node has a map from Int to Int that says if they receive a message with a certain destination, where it should be sent to.
They lookup the position in the map and send the message there.

However, in most cases, we just leave as is. We only redirect in two cases;
- We receive a message that is for a different node
- The node we want to send to has failed.

